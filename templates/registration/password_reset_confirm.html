{% extends "base_generic.html" %}

{% block content %}
<div class="content">
  {% if validlink %}
    <p>Please enter (and confirm) your new password.</p>
    <form action="" method="post" novalidate>
      <div style="display:none">
        <input type="hidden" value="{{ csrf_token }}" name="csrfmiddlewaretoken">
      </div>
        <p>
          <label for="id_new_password1">New password:</label><br>
          {{ form.new_password1 }}
          {% for error in form.new_password1.errors %}
            <small style="color: red">{{ error }}</small>
          {% endfor %}
        </p>
        <p>
          <label for="id_new_password2">Confirm password:</label><br>
          {{ form.new_password2 }}
          {% for error in form.new_password2.errors %}
            <small style="color: red">{{ error }}</small>
          {% endfor %}
        </p>
      <input type="submit" value="Change my password" /><br>
    </form>
  {% else %}
    <h2>Password reset failed</h2>
    <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
  {% endif %}
</div>
{% endblock %}